<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carga de Imágenes en Alta Resolución</title>
</head>
<body>
    <h1>Demostración de Carga de Imágenes en Alta Resolución</h1>
    <div id="image-container" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>

    <script>
        // Ruta al endpoint para obtener las imágenes
        const listImagesUrl = 'https://www.piramideejecutores.com/recursos/personal/list_images.php';
        const baseUrl = 'https://www.piramideejecutores.com/recursos/personal/';

        // Contenedor donde se agregarán las imágenes
        const imageContainer = document.getElementById('image-container');

        // Función para cargar todas las imágenes
        async function loadImages() {
            try {
                // Solicitar la lista de imágenes del servidor
                const response = await fetch(listImagesUrl);
                if (!response.ok) {
                    throw new Error('Error al obtener la lista de imágenes');
                }

                const imageNames = await response.json();
                const images = [];

                // Crear un arreglo de elementos de imagen
                for (let imageName of imageNames) {
                    const img = new Image();
                    img.src = baseUrl + imageName;
                    img.alt = imageName;
                    img.style.maxWidth = '300px'; // Limitar el tamaño de visualización para demostración
                    img.style.maxHeight = '300px';
                    img.onload = () => console.log(`Imagen ${imageName} cargada correctamente.`);
                    img.onerror = () => console.error(`Error al cargar la imagen ${imageName}.`);
                    images.push(img);
                }

                // Agregar todas las imágenes al contenedor
                for (let img of images) {
                    imageContainer.appendChild(img);
                }
            } catch (error) {
                console.error('Error al cargar las imágenes:', error);
            }
        }

        // Llamar a la función para cargar las imágenes cuando la página se cargue
        window.addEventListener('load', loadImages);
    </script>
</body>
</html>